<?xml version="1.0" encoding="UTF-8"?>
<section xml:id="s-NC-IRC">>
    <title>Instantaneous rates of change</title>
    <shorttitle>Rates of change</shorttitle>
    <introduction>
        <p>
            Having successfully navigated a course in differential calculus, we know that there are nice analytical methods for calculating the instantaneous rate of change of a function at a point. After all, that's one of the purposes of the derivative! But how do we arrive at the particular definition of the derivative of a function <m>f</m> at a point <m>a</m>?
        </p>
    </introduction>
    <subsection xml:id="s-NC-IRC-SA">
        <title>Secant approximation</title>
        <p>
            We begin by refreshing ourselves as to the meaning of the <term>difference quotient</term>.
        </p>
        <definition xml:id="def-diff_quotient">
            <idx>difference quotient</idx>
            <title>Difference quotient</title>
            <statement>
                The difference quotient of <m>f:\R\to\R</m> between two points <m>a\neq b\in\R</m> is
                <me>
                    \frac{f(b)-f(a)}{b-a}.
                </me>
            </statement>
        </definition>
        <p>
            This is precisely the slope of the line connecting the points <m>(a,f(a))</m> and <m>(b,f(b))</m>.
        </p>
        <definition xml:id="def-secant_line">
            <title>Secant line to <m>f(x)</m> from <m>x=a</m> to <m>x=b</m></title>
            <idx>secant line</idx>
            <statement>
            The <term>secant line</term> containing both <m>(a,f(a))</m> and <m>(b,f(b))</m> has equation
            <md>
                <mrow>
                    s(x) \amp= \left(\frac{f(b)-f(a)}{b-a}\right)(x-a)+f(a)
                </mrow>
                <mrow>
                    \amp= \left(\frac{f(b)-f(a)}{b-a}\right)(x-b)+f(b).
                </mrow>
            </md>
            </statement>
        </definition>
        <example xml:id="xmp-secant_line">
            <title>The graph of a function and a secant line</title>
            <p>
                Consider the function <me>g(x) = x^6 - 4 x^5 + 6 x^4 - 6 x^3 + 5 x^2 - 2 x + 1</me>; we'll see more of this function in 
                <xref text="title" ref="s-NC-ARF" />. The function passes through points <m>(a,g(a)) = (5/4, 3481/4096)</m> and <m>(b,g(b)) = (7/4, 1/4096)</m>. The slope of the secant through those points is the difference quotient
                <me>
                    \frac{g(a)-g(b)}{a-b} =
                    \frac{3481/4096 - 1/4096}{5/4-7/4} =
                    \frac{3480/4096}{1/2} = -435/256.
                </me>
                Therefore the secant line through these points is
                <md>
                    <mrow>
                        s(x) = \left( \frac{g(a)-g(b)}{a-b} \right)(x-a)+g(a)
                    </mrow>
                    <mrow>
                        = -\frac{435}{256}\left( x-\frac74 \right) + \frac1{4096}.
                    </mrow>
                </md>
            </p>
            <figure xml:id="fig-secant_exmp">
                <caption>A sixth-degree polynomial and a secant line through two of its points.</caption>
                <image xml:id="img-secant_exmp">
                    <latex-image>
                        \begin{tikzpicture}[xscale = 6, yscale = 3]
                        \draw[thick, blue] (1.0, 1.0) \foreach \x/\y in {1.02/0.999, 1.04/0.997, 1.06/0.992, 1.08/0.986, 1.1/0.978, 1.12/0.968,
                        1.14/0.956, 1.16/0.941, 1.18/0.925, 1.2/0.906, 1.22/0.885, 1.24/0.862, 1.26/0.837, 1.28/0.809, 1.3/0.78, 1.32/0.748,
                        1.34/0.714, 1.36/0.679, 1.38/0.641, 1.4/0.602, 1.42/0.562, 1.44/0.52, 1.46/0.478, 1.48/0.434, 1.5/0.391, 1.52/0.347,
                        1.54/0.304, 1.56/0.261, 1.58/0.219, 1.6/0.18, 1.62/0.142, 1.64/0.108, 1.66/0.077, 1.68/0.05, 1.7/0.028, 1.72/0.012,
                        1.74/0.002, 1.76/0.0, 1.78/0.007, 1.8/0.023, 1.82/0.05, 1.84/0.089, 1.86/0.141, 1.88/0.208, 1.9/0.291, 1.92/0.391,
                        1.94/0.51, 1.96/0.65, 1.98/0.813, 2.0/1.0}{ -- (\x,\y) };

                        \draw (1.0, 0.0) ++(-1pt,0) -- (2.0, 0.0) ++(1pt,0) \foreach \x in {1.0, 1.25, 1.5, 1.75, 2.0}{ (\x,0.0) -- ++(0,-1pt) node [below] {\tiny\x}};
                        \draw (1.0, 0.0) ++(0,-1pt)  -- (1.0, 1.0) ++(0,1pt) \foreach \y in {0.0, 0.25, 0.5, 0.75, 1.0}{ (1.0,\y) -- ++(-1pt,0) node [left] {\tiny\y}};
                        \draw[help lines]
                                    \foreach \x in {1.0, 1.25, 1.5, 1.75, 2.0}{ (\x, 0.0) -- (\x, 1.0)}
                                    \foreach \y in {0.0, 0.25, 0.5, 0.75, 1.0}{ (1.0, \y) -- (2.0, \y)};

                        \draw[color = red,dashed, thick] (1.162, 1.0) -- (1.75, 0.0) 
                            (1.25,0.85) node [fill=red, inner sep=2pt] {}
                            (1.75,0.00) node [fill=red, inner sep=2pt] {};
                        \end{tikzpicture}
                    </latex-image>
                </image>
            </figure>
        </example>
        <p>
            Looking closely at the term for the slope of the secant line in the equation, we recognize that it measures an <term>average rate of change</term> over the interval <m>[a,b]</m>. Taking a very small interval width, say an interval like <m>[a,a+h]</m> where <m>h\approx 0</m>, might gives us a good approximation to the <term>tangent line</term>.
        </p>
    </subsection>
</section>