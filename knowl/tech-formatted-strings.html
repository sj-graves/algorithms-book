<!DOCTYPE html>
<html lang="en-US">
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
</head>
<body class="ignore-math">
<article class="technology computation-like"><h5 class="heading">
<span class="type">Technology</span><span class="space"> </span><span class="codenumber">A.2.14</span><span class="period">.</span><span class="space"> </span><span class="title">Formatted strings.</span>
</h5> <div class="para">The one additional feature of strings that can be used early and to great gain is the ability to modify strings for output based upon <dfn class="terminology">string formatting</dfn>. There are several ways to do this:</div> <div class="para logical"><ul class="disc">
<li><div class="para">
<dfn class="terminology"><code class="code-inline tex2jax_ignore">printf</code>-style String Formatting</dfn> is named after the <code class="code-inline tex2jax_ignore">printf</code> command for the C/C++ programming languages. In this mode, certain percent-codes (such as <code class="code-inline tex2jax_ignore">%s</code>, <code class="code-inline tex2jax_ignore">%d</code>, and <code class="code-inline tex2jax_ignore">%f</code>) can be included in a string and then replaced via the <code class="code-inline tex2jax_ignore">%</code> operator.</div></li>
<li><div class="para">The <dfn class="terminology">String Format Method</dfn> allows keywords enclosed in curly brackets (like <code class="code-inline tex2jax_ignore">{keyword}</code>) to be replaced as arguments to the <code class="code-inline tex2jax_ignore">str.format(...)</code> method.</div></li>
<li><div class="para">
<dfn class="terminology">Formatted string literals</dfn> allow a string to be defined similarly to the string format method, but using Python evaluation within the string.</div></li>
</ul></div> <div class="para">First see a demonstration of the <code class="code-inline tex2jax_ignore">%</code> operator for strings.</div> <figure class="listing figure-like"><div class="code-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><pre class="console"><span class="prompt unselectable">&gt;&gt;&gt; </span><b>print("""This %s contains several (%d) percent codes,
</b><span class="prompt unselectable">... </span><b>which are replaced (%f) by using the percent operator.
</b><span class="prompt unselectable">... </span><b>""" % ('string', 3, 3.15926535) )
</b>This string contains several (3) percent codes,
    which are replaced (3.159265) by using the percent operator.
</pre></div>
<figcaption><span class="type">Listing</span><span class="space"> </span><span class="codenumber">A.2.15<span class="period">.</span></span><span class="space"> </span>Changing a string using the <code class="code-inline tex2jax_ignore">%</code> operator</figcaption></figure> <div class="para">Next consider an example of the use of the <code class="code-inline tex2jax_ignore">str.format(...)</code> method.</div> <figure class="listing figure-like"><div class="code-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><pre class="console"><span class="prompt unselectable">&gt;&gt;&gt; </span><b>print("""A similar {a} which has {num} replacements.
</b><span class="prompt unselectable">... </span><b>Notice that the {lcb}...{rcb} keywords can be replaced
</b><span class="prompt unselectable">... </span><b>by any value whatsoever.""".format(a='StRiNg', num=7.31,
</b><span class="prompt unselectable">... </span><b>lcb="{", rcb="}") )
</b>A similar StRiNg which has 7.31 replacements.
Notice that the {...} keywords can be replaced
by any value whatsoever.
</pre></div>
<figcaption><span class="type">Listing</span><span class="space"> </span><span class="codenumber">A.2.16<span class="period">.</span></span><span class="space"> </span>The <code class="code-inline tex2jax_ignore">str.format</code> method</figcaption></figure> <div class="para">Finally, the method using <dfn class="terminology">f-strings</dfn>.</div> <figure class="listing figure-like"><div class="code-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><pre class="console"><span class="prompt unselectable">&gt;&gt;&gt; </span><b>name = "Bob the Tomato"
</b><span class="prompt unselectable">&gt;&gt;&gt; </span><b>multiplicity = 5
</b><span class="prompt unselectable">&gt;&gt;&gt; </span><b>out = f"{name} can be copied {multiplicity} times: {multiplicity*name}"
</b><span class="prompt unselectable">&gt;&gt;&gt; </span><b>name = "Larry the Cucumber"
</b><b>multiplicity = 2
</b><span class="prompt unselectable">&gt;&gt;&gt; </span><b>print(out)
</b>Bob the Tomato can be copied 5 times: Bob the TomatoBob the TomatoBob the TomatoBob the TomatoBob the Tomato
</pre></div>
<figcaption><span class="type">Listing</span><span class="space"> </span><span class="codenumber">A.2.17<span class="period">.</span></span><span class="space"> </span>Formatted string literals, called <dfn class="terminology">fstrings</dfn></figcaption></figure> <div class="para">Note in this last example that the value of the fstring <code class="code-inline tex2jax_ignore">out</code> is not changed even when the values associated with the names used to construct <code class="code-inline tex2jax_ignore">out</code> changed.</div></article><span class="incontext"><a href="sec-intro_basicdata.html#tech-formatted-strings" class="internal">in-context</a></span>
</body>
</html>
